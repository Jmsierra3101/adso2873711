<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24-methods-arrays</title>
    <style>
        section {
            display: flex;
            align-items: center;
            background: url(images/fondoReal.jpg) no-repeat;
            background-size: cover;
            background-position: center;
            width: 400px;
            height: 850px;
            position: relative;
            flex-direction: column;
        }

        .logo {
            width: 100px;
            height: 135px;
            background: url(images/logoReal.png) no-repeat;
            background-size: cover;
            background-position: center;
            margin-top: 50px;
            margin: 0;
        }

        .subtitulo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(80deg, rgb(0, 110, 255), rgb(0, 102, 255), rgb(1, 36, 150));
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtituloo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(80deg, rgb(0, 110, 255), rgb(0, 102, 255), rgb(1, 36, 150));
            background-clip: text;
            -webkit-text-fill-color: transparent;
            padding-top: 1.5rem;
        }

        .players {
            display: flex;
            padding: 20px;
            justify-content: center;
            padding-bottom: 1px;
        }

        .player {
            width: 80px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 3px solid transparent;
            border-radius: 5px;
            filter: grayscale(0.4);
            position: relative;
            z-index: 1;
        }

        .player.selected {
            transform: translateY(-10px) scale(1.15);
            filter: grayscale(0) brightness(1.1);
            z-index: 10;
            animation: pulse 1.5s infinite;
        }

        .options {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .agg-del {
            padding: 10px 20px;
            font-size: 1rem;
            color: white;
            background-color: #007BFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .agg-del:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }
        
        .number-input {
            width: 80%;
            text-align: center;
            padding: 8px;
            border-radius: 20px;
            border: 2px solid #0056b3;
            font-size: 16px;
            display: none;
            margin-top: 5px;
        }

        .number-input:focus {
            outline: none;
            border-color: #007BFF;
        }
        
        .action-button {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 10px 25px;
        }
        
        .result-container {
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            width: 90%;
            padding: 10px;
            margin-top: 20px;
            min-height: 100px;
            max-height: 200px;
            overflow-y: auto;
            display: flex;
            flex-wrap: wrap;
        }

        .player-item {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
            padding: 5px;
            background-color: #e0e8ff;
            border-radius: 5px;
            flex-direction: column;
            margin-right: 10px;
            transition: transform 0.3s ease;
            position: relative;
        }

        .player-item:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .player-item img {
            height: 40px;
        }
        
        .player-index {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: #007BFF;
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
    </style>
    <link rel="stylesheet" href="css/master.css">
</head>

<body>
    <nav class="controls">
        <a href="../index.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                <path fill="#ffffff"
                    d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z" />
            </svg>
        </a>
    </nav>
    <main>
        <header>
            <h1>Desafio Arrays</h1>
            <h2></h2>
        </header>

        <section>
            <div class="logo"></div>
            <div class="subtitulo">
                1. Select player
            </div>
            <div class="players">
                <img class="player" src="images/embappe.png" alt="Mbappe" data-name="Mbappe">
                <img class="player" src="images/vini.png" alt="Vinicius Jr" data-name="Vinicius Jr">
                <img class="player" src="images/belli 1.png" alt="Bellingham" data-name="Bellingham">
                <img class="player" src="images/rodri.png" alt="Rodrygo" data-name="Rodrygo">
            </div>
            <div class="players">
                <img class="player" src="images/benze.png" alt="Benzema" data-name="Benzema">
                <img class="player" src="images/james.png" alt="James" data-name="James">
                <img class="player" src="images/modri.png" alt="Modric" data-name="Modric">
                <img class="player" src="images/cris.png" alt="Cristiano" data-name="Cristiano">
            </div>
            <div class="subtituloo">
                2. Select options
            </div>
            <div class="options">
                <button id="toggleFirst" class="agg-del">First</button>
                <button id="toggleAddRemove" class="agg-del">Add</button>
                <button id="numberInput" class="agg-del">Position
                    <input type="number" min="0" class="number-input" placeholder="Position">
                </button>
            </div>
            <div class="options">
                <button id="executeActionBtn" class="agg-del action-button">+</button>
            </div>
            <div class="subtituloo">
                3. Result
            </div>
            <div class="result-container" id="resultContainer">
            </div>
        </section>
    </main>
    <script>
        const selectedPlayers = [];
        let currentSelectedPlayer = null;
        let isFirst = true;
        let isAdd = true;
        let positionIndex = 0;
        
        const toggleFirst = document.getElementById('toggleFirst');
        const toggleAddRemove = document.getElementById('toggleAddRemove');
        const numberInputDiv = document.getElementById('numberInput');
        const inputElement = numberInputDiv.querySelector('.number-input');
        const executeActionBtn = document.getElementById('executeActionBtn');
        const resultContainer = document.getElementById('resultContainer');
        const allPlayers = document.querySelectorAll('.player');
        
        allPlayers.forEach(player => {
            player.addEventListener('click', function() {
                allPlayers.forEach(p => p.classList.remove('selected'));
                this.classList.add('selected');
                
                currentSelectedPlayer = {
                    element: this,
                    name: this.getAttribute('data-name'),
                    src: this.src
                };
            });
        });
        
        toggleFirst.addEventListener('click', function() {
            if (isFirst) {
                toggleFirst.textContent = "Last";
                isFirst = false;
            } else {
                toggleFirst.textContent = "First";
                isFirst = true;
            }
        });
        
        toggleAddRemove.addEventListener('click', function() {
            if (isAdd) {
                toggleAddRemove.textContent = "Remove";
                executeActionBtn.textContent = "-";
                isAdd = false;
            } else {
                toggleAddRemove.textContent = "Add";
                executeActionBtn.textContent = "+";
                isAdd = true;
            }
        });
        
        numberInputDiv.addEventListener('click', function(event) {
            if (event.target === numberInputDiv) {
                if (inputElement.style.display === 'block') {
                    inputElement.style.display = 'none';
                } else {
                    inputElement.style.display = 'block';
                    inputElement.focus();
                }
            }
        });
        
        inputElement.addEventListener('click', function(event) {
            event.stopPropagation();
        });
        
        executeActionBtn.addEventListener('click', function() {
            if (!currentSelectedPlayer && isAdd) {
                alert("Por favor selecciona un jugador primero");
                return;
            }
            
            let position = parseInt(inputElement.value);
            
            if (isNaN(position)) {
                position = isFirst ? 0 : selectedPlayers.length;
            }
            
            position = Math.max(0, Math.min(selectedPlayers.length, position));
            
            if (isAdd) {
                const player = {
                    name: currentSelectedPlayer.name,
                    src: currentSelectedPlayer.src
                };
                
                if (isFirst || position === 0) {
                    selectedPlayers.unshift(player);
                } else {
                    selectedPlayers.splice(position, 0, player);
                }
                
            } else {
                if (selectedPlayers.length === 0) {
                    alert("No hay jugadores para eliminar");
                    return;
                }
                
                if (position >= 0 && position < selectedPlayers.length) {
                    selectedPlayers.splice(position, 1);
                } else {
                    alert("Posición no válida. Ingresa un número entre 0 y " + 
                          (selectedPlayers.length - 1));
                    return;
                }
            }
            
            updateResultDisplay();
            
            allPlayers.forEach(p => p.classList.remove('selected'));
            currentSelectedPlayer = null;
            inputElement.value = "";
            inputElement.style.display = 'none';
        });
        
        function updateResultDisplay() {
            resultContainer.innerHTML = "";
            
            if (selectedPlayers.length === 0) {
                resultContainer.innerHTML = "<p>No hay jugadores seleccionados</p>";
                return;
            }
            
            selectedPlayers.forEach((player, index) => {
                const playerItem = document.createElement('div');
                playerItem.className = 'player-item';
                playerItem.innerHTML = `
                    <img src="${player.src}" alt="${player.name}">
                    <div class="player-index">${index}</div>
                `;
                resultContainer.appendChild(playerItem);
            });
        }
        
        updateResultDisplay();
    </script>
</body>

</html>